{"version":3,"sources":["pages/Login.js"],"names":["Page","useState","user","setUser","pwd","setPwd","remember","setRemember","dispatch","useDispatch","status","useSelector","state","login","authorized","validating","setValidating","errMsg","setErrMsg","e","a","preventDefault","window","location","href","MEMBER","target","checkValidity","AJAX_STATUES_LOADING","doLogin","r","payload","success","loginForm","className","noValidate","onSubmit","htmlFor","id","type","required","value","onChange","title","checked","slogan","locationTag","simple","effect"],"mappings":"4OA2IeA,UA9Hf,WAGE,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAsBF,mBAAS,IAA/B,mBAAOG,EAAP,KAAYC,EAAZ,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KAEMC,EAAWC,cACXC,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMH,UAC1CI,EAAaH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,cAEpD,EAAoCb,mBAAS,IAA7C,mBAAOc,EAAP,KAAmBC,EAAnB,KAEA,EAA4Bf,mBAAS,IAArC,mBAAOgB,EAAP,KAAeC,EAAf,KAIML,EAAK,uCAAG,WAAOM,GAAP,eAAAC,EAAA,yDACZD,EAAEE,iBAEEP,IAAYQ,OAAOC,SAASC,KAAOC,KAEvCT,EAAc,kBACiB,IAA3BG,EAAEO,OAAOC,gBAND,oDAQZX,EAAc,IAEXN,IAAWkB,IAVF,iCAWMpB,EAASqB,YAAQ,CAAC3B,OAAME,SAX9B,QAWJ0B,EAXI,QAYJC,SAE0B,IAAtBD,EAAEC,QAAQC,QAClBV,OAAOC,SAASC,KAAOC,IAEvBP,EAnBc,gCAedA,EAhBY,+DAGJ,4CAAH,sDAsBLe,EACJ,uBAAMC,UAAWnB,EAAYoB,YAAU,EAACC,SAAUvB,EAAlD,UACE,oBAAIqB,UAAU,OAAd,mBAEA,sBAAKA,UAAU,aAAf,UACE,uBAAOA,UAAU,iBAAiBG,QAAQ,aAA1C,mBACA,uBAAOC,GAAG,aAAaC,KAAK,QAAQL,UAAU,+BAC5CM,UAAQ,EAAC,aAAW,cACpBC,MAAOvC,EAAMwC,SAAU,SAACvB,GAAD,OAAOhB,EAAQgB,EAAEO,OAAOe,UAEjD,qBAAKP,UAAU,mBAAf,0CAEF,sBAAKA,UAAU,aAAf,UACE,uBAAOA,UAAU,iBAAiBG,QAAQ,WAA1C,sBACA,uBAAOC,GAAG,WAAWC,KAAK,WAAWL,UAAU,+BAC7CM,UAAQ,EAAC,aAAW,iBACpBC,MAAOrC,EAAKsC,SAAU,SAACvB,GAAD,OAAOd,EAAOc,EAAEO,OAAOe,UAE/C,qBAAKP,UAAU,mBAAf,oCACA,qBAAKA,UAAU,4BAAf,SAA4CjB,OAI9C,oBAAGiB,UAAU,4BAAb,sEAC2D,mBAAGV,KAAK,IAAR,gCAD3D,QACkG,mBAAGA,KAAK,IAAR,kCAGlG,oBAAIU,UAAU,YAAd,SACI,qBAAkBA,UAAU,iCAA5B,UACE,uBAAOK,KAAK,WAAWL,UAAU,uBAC/BI,GAAG,gBAAgBK,MAAM,gBACzBF,MAAOnC,EAAUoC,SAAU,SAACvB,GAAD,OAAOZ,EAAYY,EAAEO,OAAOkB,YAEzD,uBAAOP,QAAQ,gBAAgBH,UAAU,sCAAzC,2BALM,aASZ,wBAAQA,UAAU,kDAAkDK,KAAK,SAAzE,mBACA,oBAAGL,UAAU,+BAAb,8CAC8B,mBAAGV,KAAK,IAAIU,UAAU,mBAAtB,2BAK5BW,EACJ,qBAAKX,UAAU,wBAAf,SACE,sBAAKA,UAAU,QAAf,UACE,oBAAIA,UAAU,gBAAd,oDACA,mBAAGA,UAAU,0BAAb,yEAKAY,EACJ,sBAAKZ,UAAU,qGAAf,UACE,sBAAMA,UAAU,iBAAhB,mBADF,yBAKF,OACE,gCAEE,qBAAKA,UAAU,qDAEf,qBAAKA,UAAU,YAAf,SACE,cAAC,IAAD,CAAQa,QAAQ,MAGlB,sBAAKb,UAAU,oDAAf,UACE,sBAAKA,UAAU,mCAAf,UACE,qBAAKA,UAAU,4CAAf,SACE,cAAC,SAAD,CAAQc,OAAO,WAAf,SACGH,MAIL,qBAAKX,UAAU,gDAAf,SACE,cAAC,SAAD,CAAQc,OAAO,SAAf,SAAyBf,SAI5Ba","file":"static/js/13.c6e79f0d.chunk.js","sourcesContent":["import { useState } from 'react';\nimport { Reveal } from 'react-reveal';\n\nimport Header from '../components/Header/Header';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { doLogin } from '../features/loginSlicer';\nimport {\n  AJAX_STATUES_LOADING,\n} from '../features/fetchStatus'\n\nimport { MEMBER } from '../utils/links';\n\nfunction Page (){\n\n  // Form data\n  const [user, setUser] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  const [remember, setRemember] = useState(false);\n\n  const dispatch = useDispatch();\n  const status = useSelector(state => state.login.status);\n  const authorized = useSelector(state => state.login.authorized);\n\n  const [validating, setValidating] = useState(\"\");\n\n  const [errMsg, setErrMsg] = useState(\"\");\n  const errServer = \"Something is wrong with the server. Please try again later.\";\n  const errAuthFail = \"Incorrect email or password.\";\n\n  const login = async (e) => {\n    e.preventDefault();\n\n    if (authorized) window.location.href = MEMBER;\n\n    setValidating('was-validated');\n    if (e.target.checkValidity()===false) return;\n\n    setValidating(\"\");\n    // submit\n    if(status !== AJAX_STATUES_LOADING) {\n      const r = await dispatch(doLogin({user, pwd}));\n      if(!r.payload){\n        setErrMsg(errServer);\n      } else if(r.payload.success === true) {\n        window.location.href = MEMBER;\n      } else {\n        setErrMsg(errAuthFail);\n      }\n    }\n  };\n\n  const loginForm = (\n    <form className={validating} noValidate onSubmit={login} >\n      <h2 className=\"mb-3\">Login</h2>\n\n      <div className=\"form-group\">\n        <label className=\"text-secondary\" htmlFor=\"loginEmail\">Email</label>\n        <input id=\"loginEmail\" type=\"email\" className=\"form-control form-control-lg\"\n          required aria-label=\"Login Email\"\n          value={user} onChange={(e) => setUser(e.target.value)}\n        />\n        <div className=\"invalid-feedback\">Please enter valid email.</div>\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-secondary\" htmlFor=\"loginPwd\">Password</label>\n        <input id=\"loginPwd\" type=\"password\" className=\"form-control form-control-lg\"\n          required aria-label=\"Login Password\"\n          value={pwd} onChange={(e) => setPwd(e.target.value)}\n        />\n        <div className=\"invalid-feedback\">Please enter password.</div>\n        <div className=\"invalid-feedback d-inline\">{errMsg}</div>\n      </div>\n\n\n      <p className=\"small text-secondary mt-4\">\n        By signing in or creating an account, you agree with our <a href=\"#\">Terms & Conditions</a> and <a href=\"#\">Privacy Statement</a>\n      </p>\n\n      <ul className=\"mt-3 mb-5\">\n          <li key=\"unrated\" className=\"custom-control custom-checkbox\">\n            <input type=\"checkbox\" className=\"custom-control-input\"\n              id=\"rememberCheck\" title=\"rememberCheck\"\n              value={remember} onChange={(e) => setRemember(e.target.checked)}\n            />\n            <label htmlFor=\"rememberCheck\" className=\"custom-control-label text-secondary\">Remember me</label>\n          </li>\n      </ul>\n\n      <button className=\"btn btn-primary btn-block btn-lg text-uppercase\" type=\"submit\">login</button>\n      <p className=\"text-sub text-secondary mt-2\">\n        Donâ€™t have an account yet?  <a href=\"#\" className=\"font-weight-bold\">Sign up</a>\n      </p>\n    </form>\n  );\n\n  const slogan = (\n    <div className=\"row position-relative\">\n      <div className=\"col-9\" >\n        <h2 className=\"fz-title mb-3\">An ideal hotel makes a wonderful Trip.</h2>\n        <p className=\"text-sub text-secondary\">Discover your dream destination and hotel on ALOHA.com</p>\n      </div>\n    </div>\n  );\n\n  const locationTag = (\n    <div className=\"bg-dark rounded px-3 py-2 text-light d-none d-sm-inline-block text-sub Login__location text-nowrap\">\n      <span className=\"material-icons\">place</span>Osaka Castel, Japan\n    </div>\n  );\n\n  return (\n    <div>\n      {/* Full-screen background */}\n      <div className=\"Login__background login-bg position-fixed vh-100\"></div>\n\n      <nav className=\"fixed-top\">\n        <Header simple={true} />\n      </nav>\n\n      <div className=\"container vh-100 position-relative Login__content\">\n        <div className=\"row h-100 justify-content-center\">\n          <div className=\"d-none d-lg-block col-lg-8 Login__padding\">\n            <Reveal effect=\"fadeInUp\">\n              {slogan}\n            </Reveal>\n          </div>\n\n          <div className=\"col-md-6 col-lg-4 Login__padding Login__right\">\n            <Reveal effect=\"fadeIn\">{loginForm}</Reveal>\n          </div>\n        </div>\n\n        {locationTag}\n      </div>\n    </div>\n  );\n}\n\nexport default Page;"],"sourceRoot":""}