{"version":3,"sources":["utils/utils.js","components/NumberPicker.js","components/Subscription.js","components/DatePicker.js","components/SearchBar/SearchItemBtn.js","components/SearchBar/DateButtonLg.js","components/SearchBar/NavReturnButton.js","components/SearchBar/DestButton.js","components/SearchBar/GuestButtonLg.js","components/SearchBar/SearchBar.js","components/UtilComponents.js","components/BottomModal.js","components/FullscreenCollapse.js","components/Filter.js","components/search/HotelCard.js","components/NumPagenation.js","components/search/FilterImpl.js","components/search/SearchResult.js","pages/Search.js"],"names":["genGuestStr","adult","child","room","items","push","join","NumberPicker","props","number","onNumChange","className","onClick","Subscription","size","dispatch","useDispatch","status","useSelector","state","subscribe","subscribed","success","title","thankMsg","EmailForm","useState","email","setEmail","validating","setValidating","noValidate","onSubmit","e","preventDefault","target","checkValidity","doSubscribe","type","placeholder","required","value","onChange","id","AJAX_STATUES_FAILED","AJAX_STATUES_SUCCESS","SmallForm","successMsg","subform","Fragment","LargeForm","DatePicker","handler","name","divId","picker","start","Date","end","_getTomorrow","onSelected","bind","tmr","setDate","getDate","date1","date2","this","toJSDate","undefined","LitePicker","element","document","getElementById","numberOfMonths","selectForward","singleMode","autoApply","startDate","endDate","format","setup","on","show","children","React","Component","SearchItemBtn","onToggle","label","ariaLabel","ariaLabel2","Dropdown","Toggle","variant","bsPrefix","Menu","as","DateButtonLg","small","goBack","window","history","back","NavReturnButton","city","genLocStr","country","constants","DestButton","destText","setDestText","localOnChange","tatget","useEffect","GuestButtonLg","guestStr","short","SearchBar","withReturn","simplified","globalDispatch","updateGlobal","data","update","searchState","search","touchedCal","setTouchedCal","touchedGuest","setTouchedGuest","suggestLocs","setSuggestLocs","api","LoadRecommendLocs","then","res","catch","console","error","isSmallScreen","useMediaQuery","isMidScreen","isLargeScreen","getDateStr","d","parseDate","getDateStrLg","dateRangeStrLg","dateRangeStr","formStyle","serializeDate","parseJSDate","doSearch","reset","searchOptions","str","queryString","stringify","location","href","SEARCH","destinations","map","Item","role","setDestination","visitors","option","num","searchBarSmall","searchBarLarge","toDate","Stars","star","repeat","BottomModal","toggle","clearHandler","confirmText","confirmAction","direction","collapse","layoutClass","Content","in","FullScreenCollapse","onClose","footer","Collapse","CustomSlider","withStyles","root","color","height","padding","thumb","width","backgroundColor","marginTop","marginLeft","boxShadow","marginRight","active","track","rail","opacity","Slider","Filter","onFilter","resNumber","sections","Object","values","sec","options","opt","i","checkBoxHandler","sliderHandler","sliderOnCommit","closeFilter","doFilter","callOnFilter","newState","assign","checked","setState","toggleSetter","genCheckBox","prefix","idx","htmlFor","text","method","priceRange","onChangeCommitted","max","min","step","fullscreen","FullscreenCollapse","_Filter","SwiperCore","use","Navigation","Lazy","HotelCard","indes","tags","url","images","length","src","alt","observer","observeParents","slidesPerView","preloadImages","lazy","navigation","image","swiperImages","imgs","distance","reviews","oldPrice","price","genOldprice","NumPagenation","curr","onIndex","nums","Math","floor","n","filter","hotelData","deals","stars","specialOffer","h","t","includes","reduce","a","b","Hotels","rooms","pageSize","index","len","ceil","range","slice","r","SearchResult","query","tabs","currTab","setCurrTab","currPage","setCurrPage","setShow","filterOps","setFilterOps","filterOn","setFilterOn","log","x","keys","Array","fill","makeOptions","filteredHotels","sortRooms","category","copied","sort","Tab","Container","defaultActiveKey","Nav","Link","eventKey","effect","duration","Pane","setTimeout","SearchPage","queryBackup","qs","parse","hotels","hotel","fetchHotels","Layout","Header","simple","switchFetchStatus","Loading","Footer"],"mappings":"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","file":"static/js/6.44dffc92.chunk.js","sourcesContent":["export function genGuestStr(adult, child, room) {\n\n  let items = [];\n  if (adult) {\n    if (adult === 1) items.push(\"1 adult\");\n    else if (adult > 1) items.push(`${adult} adults`);\n  }\n\n  if (child) {\n    if (child === 1) items.push(\"1 child\");\n    else if (child > 1) items.push(`${child} children`);\n  }\n\n  if (room) {\n    if (room === 1) items.push(\"1 room\");\n    else if (room > 1) items.push(`${room} rooms`);\n  }\n\n  return items.join(\"・\");\n}","import PropTypes from 'prop-types'\n\nfunction NumberPicker(props) {\n  const {number, onNumChange} = props;\n\n  const minus = () => {\n    if(number === 0) return;\n    onNumChange(number-1);\n  }\n\n  const plus = () => {\n    if(number > 99) return;\n    onNumChange(number+1);\n  }\n\n  return (\n    <div className=\"d-flex justify-content-between align-items-center\">\n      <a onClick={minus} className=\"material-icons text-dark mr-3\">remove</a>\n        {number}\n      <a onClick={plus} className=\"material-icons text-dark ml-3\">add</a>\n    </div>\n  );\n}\n\nNumberPicker.propTypes = {\n  number: PropTypes.number.isRequired,\n  onNumChange: PropTypes.func.isRequired,\n}\n\nexport default NumberPicker;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { doSubscribe } from '../features/subscribeSlicer';\nimport {\n  AJAX_STATUES_SUCCESS,\n  AJAX_STATUES_FAILED,\n} from '../features/fetchStatus'\n\nfunction Subscription(props) {\n  const {size} = props;\n\n  const dispatch = useDispatch();\n  const status = useSelector(state => state.subscribe.status);\n  const subscribed = useSelector(state => state.subscribe.success);\n\n  const title = \"Subscribe for Exclusive Offer\";\n  const thankMsg = \"Thanks for your subscription!\";\n\n  const EmailForm = (props) => {\n\n    const [email, setEmail] = useState(\"\");\n    const [validating, setValidating] = useState(\"\");\n\n    const subscribe = (e) => {\n      e.preventDefault();\n\n      setValidating(\"was-validated\");\n      if(e.target.checkValidity()===false) return;\n\n      dispatch(doSubscribe(email));\n    };\n\n    return (\n      <form className={`${validating}`}\n\n        noValidate\n        onSubmit={subscribe}>\n\n        <div className=\"input-group input-group-lg\">\n          <input type=\"email\" className=\"form-control\"\n            aria-labelledby=\"subs-btn\"\n            placeholder=\"Your email address\" required\n            value={email} onChange={(e) => setEmail(e.target.value)}\n          />\n          <div className=\"input-group-append\">\n            <button id=\"subs-btn\" className=\"btn btn-primary\" type=\"submit\">Subscribe</button>\n          </div>\n        </div>\n        { (status === AJAX_STATUES_FAILED || status == AJAX_STATUES_SUCCESS && !subscribed) &&\n          <div className=\"invalid-feedback d-inline\">Something is wrong. Please try again later.</div>\n        }\n      </form>\n    );\n  };\n\n  function SmallForm(props) {\n    const successMsg = (\n      <div className=\"col-md-8 text-center\">\n        <h2 className=\"mb-3 mb-md-0\">{thankMsg}</h2>\n      </div>\n    );\n\n    const subform = (\n      <React.Fragment>\n      <div className=\"col-md-4 col-lg-5 text-center text-md-left\">\n        <h2 id=\"subs-title\" className=\"mb-3 mb-md-0\">{title}</h2>\n      </div>\n      <div className=\"col-md-7\">\n        <EmailForm />\n      </div>\n      </React.Fragment>\n    );\n\n    return (\n      <div className={`py-4 bg-info Subscribe`}>\n        <div className=\"container\">\n          <div className=\"row no-gutters justify-content-between align-items-center\">\n            {subscribed ? successMsg : subform}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  function LargeForm(props) {\n    const successMsg = (\n      <h2 className=\"fz-title mb-md-4 mb-3\">{thankMsg}</h2>\n    );\n\n    const subform = (\n      <React.Fragment>\n        <h2 className=\"fz-title mb-md-4 mb-3\">{title}</h2>\n        <EmailForm />\n      </React.Fragment>\n    )\n\n    return (\n      <section className={`Subscribe--lg bg-info`}>\n        <div className=\"container d-flex flex-column justify-content-center align-items-center\">\n          {subscribed ? successMsg : subform}\n        </div>\n      </section>\n    )\n  }\n\n  if (size === 'large') {\n    return <LargeForm />;\n  } else {\n    return <SmallForm />;\n  }\n}\n\nSubscription.propTypes = {\n  size: PropTypes.string,\n}\n\nexport default Subscription;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport LitePicker from 'litepicker';\n\nclass DatePicker extends React.Component {\n\n  static propTypes = {\n    name: PropTypes.string,\n    handler: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props);\n    this.handler = props.handler || null;\n    this.name = props.name || \"\";\n    this.divId = `litepicker_${this.name}`;\n    this.picker = null;\n\n    this.start = props.start || new Date();\n    this.end = props.end || this._getTomorrow();\n\n    this.onSelected = this.onSelected.bind(this);\n  }\n\n  _getTomorrow() {\n    let tmr = new Date();\n    tmr.setDate(tmr.getDate() +1 );\n    return tmr;\n  }\n\n  onSelected (date1, date2) {\n    if(this.handler!==null) {\n      this.handler(\n        date1 ? date1.toJSDate() : undefined,\n        date2 ? date2.toJSDate() : undefined\n      );\n    }\n  }\n\n  componentDidMount() {\n    this.picker = new LitePicker({\n      element: document.getElementById(this.divId),\n      numberOfMonths: 2,\n      selectForward: true,\n      singleMode: false,\n      autoApply: true,\n      startDate: this.start,\n      endDate: this.end,\n      format: 'MM/DD/YYYY',\n      setup: (picker) => {\n        picker.on('preselect', this.onSelected)\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>\n      <button type=\"button\"\n        aria-label=\"calendar\"\n        className=\"btn btn-light btn-block\"\n        onClick={(e) => {\n          this.picker.show();\n        }}>\n        {this.props.children}\n      </button>\n      <div id={this.divId}></div>\n      </div>\n    );\n  }\n}\n\nexport default DatePicker;","import { Dropdown } from 'react-bootstrap';\nimport PropTypes from 'prop-types'\n\nfunction SearchItemBtn(props) {\n  const { title, onToggle, label } = props;\n\n  const ariaLabel = `searchItem-${label}`;\n  const ariaLabel2 = `searchMenu-${label}`;\n\n  return (\n  <Dropdown onToggle={onToggle}>\n    <Dropdown.Toggle variant=\"light\" bsPrefix=\"no-toggle\" aria-label={ariaLabel}\n      className=\"btn btn-block text-left pl-3 text-nowrap\" data-offset=\"0,8\">\n      {title}\n    </Dropdown.Toggle>\n    <Dropdown.Menu as=\"ul\" className=\"list-unstyled w-100\" aria-label={ariaLabel2}>\n      {props.children}\n    </Dropdown.Menu>\n  </Dropdown>\n  );\n};\n\nSearchItemBtn.propTypes = {\n  title: PropTypes.object,\n  onToggle: PropTypes.func,\n  label: PropTypes.string.isRequired,\n}\n\nexport default SearchItemBtn;\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction DateButtonLg(props) {\n  const { small, start, end } = props;\n\n  if(small) {\n    return (\n      <div className=\"text-secondary\">\n        {start}-{end}\n      </div>\n    );\n  } else return (\n    <div className=\"d-none d-md-flex align-items-center text-left pl-3\">\n      <div className=\"material-icons pr-lg-3 pr-2\">date_range</div>\n\n      <ul className=\"list-unstyled list-row-divider-info d-none d-lg-flex text-nowrap\">\n        <li>\n          <h5 className=\"Search__title\">check-in</h5>\n          <p className=\"Search__subtitle\">{start}</p>\n        </li>\n        <li>\n          <h5 className=\"Search__title\">check-out</h5>\n          <p className=\"Search__subtitle\">{end}</p>\n        </li>\n      </ul>\n      <div className=\"text-left d-lg-none\">\n        <h5 className=\"Search__title\">check-in / out</h5>\n        <p className=\"Search__subtitle\">{start} / {end}</p>\n      </div>\n\n    </div>\n    );\n}\n\nDateButtonLg.propTypes = {\n  small: PropTypes.bool,\n  start: PropTypes.string,\n  end: PropTypes.string,\n}\n\nexport default DateButtonLg\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { genGuestStr } from '../../utils/utils';\n\nfunction goBack() {\n  window.history.back();\n}\n\nfunction NavReturnButton(props) {\n  const { city, start, end, adult, child, room } = props;\n  return (\n    <a\n      className=\"d-md-none btn container py-3 px-3\"\n      onClick={goBack}\n    >\n      <span className=\"material-icons text-dark mr-1\">arrow_back</span>\n      <span className=\"text-secondary small\">\n        {city}・{start} - {end}・{genGuestStr(adult, child, room)}\n      </span>\n    </a>\n  )\n}\n\nNavReturnButton.propTypes = {\n  city: PropTypes.string,\n  start: PropTypes.string,\n  end: PropTypes.string,\n  adult: PropTypes.number,\n  child: PropTypes.number,\n  room: PropTypes.number,\n};\n\nexport default NavReturnButton;\n\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as constants from '../../utils/constants';\n\nfunction genLocStr(city, country) {\n  if (city === constants.DEFAULT_CITY_STR &&\n    country === constants.DEFAULT_COUNTRY_STR)\n    return \"Destination\";\n  return `${city}, ${country}`;\n}\n\nfunction DestButton(props) {\n  const { city, country, small=false, onChange } = props;\n  const [destText, setDestText] = useState(\"\");\n\n  const localOnChange = (e) => {\n    setDestText(e.target.value);\n    onChange(e.tatget.value);\n  };\n\n  useEffect(() => {\n    setDestText(genLocStr(city, country))\n  }, [city, country])\n\n  if (small) {\n    return (\n      <div className=\"d-flex align-items-center\">\n            <span className=\"material-icons mr-2\">location_on</span>\n            <input\n              aria-label=\"destination\"\n              type=\"text\" placeholder={genLocStr(city, country)}\n              value={destText} onChange={localOnChange}\n            />\n          </div>\n    );\n  } else {\n    return (\n      <div>\n        <div className=\"d-none d-md-block\">\n          <div className=\"d-flex align-items-center\">\n            <div className=\"material-icons pr-lg-3 pr-2\">location_on</div>\n            <div className=\"text-left\">\n              <h5 id=\"btn-destination\" className=\"Search__title\">destination</h5>\n              <input className=\"Search__subtitle\" aria-labelledby=\"btn-destination\"\n                type=\"text\" placeholder={genLocStr(city, country)}\n                value={destText} onChange={localOnChange}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"d-md-none text-secondary\">\n          {city}\n        </div>\n      </div>\n    );\n  }\n}\n\nDestButton.propTypes = {\n  city: PropTypes.string,\n  country: PropTypes.string,\n  small: PropTypes.bool,\n};\n\nexport default DestButton;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { genGuestStr } from '../../utils/utils';\n\nfunction GuestButtonLg(props) {\n  const { adult, child, room, short } = props;\n\n  const guestStr = short ?\n      `${adult}+${child}・${room} room(s)`:\n      genGuestStr(adult, child, room);\n\n  return (\n    <div>\n    <div className=\"d-none d-md-flex align-items-center\">\n      <div className=\"material-icons pr-lg-3 pr-2\">person</div>\n      <div className=\"text-left\">\n        <h5 className=\"Search__title\">guests</h5>\n        <p className=\"Search__subtitle\">\n          {guestStr}\n        </p>\n      </div>\n    </div>\n    <div className=\"d-md-none text-secondary\">\n        {guestStr}\n    </div>\n    </div>\n  );\n}\n\nGuestButtonLg.propTypes = {\n  adult: PropTypes.number,\n  child: PropTypes.number,\n  room: PropTypes.number,\n  short: PropTypes.bool,\n};\n\nexport default GuestButtonLg;\n\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from 'react-bootstrap';\nimport { useMediaQuery } from '@material-ui/core';\nimport queryString from 'query-string';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { update } from '../../features/searchSlicer';\nimport { reset } from '../../features/hotelSlicer';\n\nimport NumberPicker from '../NumberPicker';\nimport DatePicker from '../DatePicker';\nimport SearchItemBtn from './SearchItemBtn';\nimport DateButtonLg from './DateButtonLg';\nimport NavReturnButton from './NavReturnButton';\nimport DestButton from './DestButton';\nimport GuestButtonLg from './GuestButtonLg';\n\nimport api, { LoadRecommendLocs } from '../../api/mockApi';\nimport { SEARCH } from '../../utils/links';\nimport { genGuestStr } from '../../utils/utils';\nimport { serializeDate, parseDate, parseJSDate } from '../../utils/dates';\nimport * as constants from '../../utils/constants';\n\n\nfunction SearchBar (props) {\n  const { withReturn, simplified } = props;\n\n  const globalDispatch = useDispatch();\n  const updateGlobal = (data) => globalDispatch(update(data));\n  const searchState = useSelector(state => state.search);\n  const { city, country, adult, child, room, startDate, endDate } = searchState;\n\n  // For UI only\n  const [touchedCal, setTouchedCal] = useState(false);\n  const [touchedGuest, setTouchedGuest] = useState(false);\n  const [suggestLocs, setSuggestLocs] = useState([]);\n\n  useEffect(() => {\n    api(LoadRecommendLocs()).then((res) => {\n      setSuggestLocs(res.data);\n    }).catch((e) => {\n      console.error(\"No suggested destinations.\");\n    });\n  }, []);\n\n  let isSmallScreen = useMediaQuery(`(max-width:${constants.BS_BREAKPOINT_MD})`);\n  let isMidScreen = useMediaQuery(`(max-width:${constants.BS_BREAKPOINT_LG})`);\n  let isLargeScreen = useMediaQuery(`(max-width:${constants.BS_BREAKPOINT_XL})`);\n\n  // Helpers\n  const getDateStr = (d) => {\n    return parseDate(d).format('DD MMM');\n  };\n\n  const getDateStrLg = (d) => {\n    let format = isLargeScreen ? 'DD MMM' : 'DD MMMM';\n    return parseDate(d).format(format);\n  };\n\n  let dateRangeStrLg = [getDateStrLg(startDate), getDateStrLg(endDate)];\n  let dateRangeStr = [getDateStr(startDate), getDateStr(endDate)];\n\n  let formStyle = \"py-2 py-md-4 Search__bar container\";\n  if (withReturn) {\n    formStyle += \" d-none d-md-block\";\n  }\n\n  // Handlers\n  const setDestination = (city, country) => {\n    updateGlobal({city, country});\n  };\n\n  const setDate = (date1, date2) => {\n    let start = date1 ? serializeDate(parseJSDate(date1)): startDate;\n    let end = date2 ? serializeDate(parseJSDate(date2)) : endDate;\n\n    updateGlobal({ startDate: start, endDate: end });\n    setTouchedCal(true);\n  };\n\n  const doSearch = (e) => {\n    e.preventDefault();\n    // clear previous search result\n    globalDispatch(reset());\n\n    // make query string\n    let searchOptions = {\n      country,\n      city,\n      adult,\n      child,\n      room,\n      startDate,\n      endDate,\n    };\n    let str = queryString.stringify(searchOptions);\n    window.location.href = SEARCH + '?' + str;\n  };\n\n  // Renderers\n  const destinations = () => {\n    return suggestLocs.map(([country, city]) => (\n      <Dropdown.Item\n        as=\"li\"\n        key={city}\n        role=\"button\"\n        onClick={() => setDestination(country, city)}\n      >\n        <div className=\"d-flex align-items-center\">\n          <div className=\"material-icons icon-lg mr-2\">grade</div>\n          <div>\n            <p>{country}</p>\n            <p className=\"small\">{city}</p>\n          </div>\n        </div>\n      </Dropdown.Item>\n    ));\n  };\n\n  const visitors = () => {\n    const numberOptions = [\n      ['Adult', adult, \"adult\"],\n      ['Child', child, \"child\"],\n      ['Room', room, \"room\"],\n    ];\n    return numberOptions.map((option) => (\n      // Not Dropdown component to prevent closing on click.\n      <li className=\"dropdown-item\" key={option[0]}>\n        <div className=\"d-flex justify-content-between\">\n          <p>{option[0]}</p>\n          <NumberPicker number={option[1]}\n            onNumChange={(num) => updateGlobal({ [option[2]]: num })} />\n        </div>\n      </li>\n    ));\n  };\n\n  /**\n   * Search Bar: Small layout\n   */\n  const searchBarSmall = (\n\n  <form className=\"p-4 Search__bar bg-info rounded-lg\" onSubmit={doSearch}>\n    <ul className=\"Search__options flex-column flex-lg-row\">\n      {/* Field Destination */}\n      <li key=\"destination\" className=\"mb-3 mb-lg-0\">\n        <SearchItemBtn label=\"dest\" title={\n          <DestButton\n            city={city}\n            country={country}\n            small={true}\n            onChange={() => {}} // TODO: should connect to auto complete or othre queries.\n          />\n        }>\n          {destinations()}\n        </SearchItemBtn>\n      </li>\n\n      {/* Field 2: Calendar */}\n      <li key=\"calendar\" className=\"mb-3 mb-lg-0\">\n        <DatePicker name=\"small\" handler={setDate}>\n          <div className=\"pl-2 text-left text-nowrap overflow-scroll\">\n            <span className=\"material-icons mr-2\">date_range</span>\n            {touchedCal ? `${dateRangeStr[0]} / ${dateRangeStr[1]}` : \"Check-in / Check-out\"}\n          </div>\n        </DatePicker>\n      </li>\n\n\n      {/* Field 3: Guests */}\n      <li key=\"guest\" className=\"mb-3 mb-lg-0\">\n        <SearchItemBtn label=\"guest\" onToggle={() => setTouchedGuest(true)}\n        title={(\n          <div className=\"d-flex align-items-center\">\n            <span className=\"material-icons mr-2\">person</span>\n            {touchedGuest ? genGuestStr(adult, child, room) : \"Guest\"}\n          </div>\n          )}\n        >\n          {visitors()}\n        </SearchItemBtn>\n      </li>\n\n      <li key=\"button\" className=\"flex-grow-0 flex-shrink-0\">\n        <button className=\"btn btn-primary Search__btn btn-block\" type=\"submit\">Search</button>\n      </li>\n    </ul>\n\n  </form>\n  );\n\n  /**\n   * Search Bar: Large layout\n   */\n  const searchBarLarge = (\n  <div className=\"bg-info text-center\">\n      {withReturn &&\n        <NavReturnButton\n          city={city}\n          start={dateRangeStr[0]}\n          end={dateRangeStr[1]}\n          adult={adult}\n          child={child}\n          room={room}\n        />\n      }\n\n    <form className={formStyle} onSubmit={doSearch}>\n      <ul className=\"Search__options Search__collapse-sm\" role=\"nav\">\n\n        {/* Field 1: Destination */}\n        <li key=\"destination\">\n          <SearchItemBtn label=\"dest\" title={\n            <DestButton\n              city={city}\n              country={country}\n              small={false}\n              onChange={() => {}}\n            />\n          }>\n            {destinations()}\n          </SearchItemBtn>\n        </li>\n\n        {/* Field 2: Calendar */}\n        <li key=\"datePicker\">\n          <DatePicker\n            start={parseDate(startDate).toDate()}\n            end={parseDate(endDate).toDate()}\n            name=\"large\"\n            handler={setDate} >\n            <DateButtonLg\n              small={isSmallScreen}\n              start={dateRangeStrLg[0]}\n              end={dateRangeStrLg[1]}\n            />\n          </DatePicker>\n        </li>\n\n\n        {/* Field 3: Guests */}\n        <li key=\"guests\" className=\"border-right-0\">\n          <SearchItemBtn label=\"guest\" title={\n            <GuestButtonLg\n              adult={adult}\n              child={child}\n              room={room}\n              short={isMidScreen}\n            />\n          }>\n            {visitors()}\n          </SearchItemBtn>\n        </li>\n\n        <li key=\"buttons\" className=\"flex-grow-0 flex-shrink-0 d-none\">\n          <button className=\"btn btn-primary Search__btn text-uppercase\" type=\"submit\">Search</button>\n        </li>\n      </ul>\n\n    </form>\n  </div>\n  );\n\n  if (simplified) {\n    return searchBarSmall;\n  } else {\n    return searchBarLarge;\n  }\n}\n\nSearchBar.propTypes = {\n  simplified: PropTypes.bool,\n  withReturn: PropTypes.bool,\n};\n\nexport default SearchBar;","import PropTypes from 'prop-types';\n\nfunction Stars(props) {\n  const {star} = props;\n  return (\n    <span className=\"material-icons fz-grade\">\n      {\"grade \".repeat(star)}\n    </span>\n  );\n};\n\nStars.propTypes = {\n  star: PropTypes.number.isRequired,\n}\n\nexport { Stars };","import PropTypes from 'prop-types';\nimport { Collapse } from 'react-bootstrap';\n\nfunction BottomModal(props) {\n  const {\n    toggle,\n    clearHandler,\n    confirmText,\n    confirmAction,\n    direction,\n    collapse,\n    } = props;\n\n  let layoutClass = (direction === 'vertical') ?\n    \"\" :\n    \"container d-flex justify-content-md-between flex-column flex-md-row\";\n\n  const Content = (\n  <div className=\"BottomModal__wrapper\">\n    <div className={layoutClass}>\n      <div>\n        {props.children}\n      </div>\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <button className=\"btn btn-outline-primary btn-lg btn-block text-uppercase\" onClick={clearHandler}>cancel</button>\n        </div>\n        <div className=\"col-6\">\n          <button className=\"btn btn-primary btn-lg btn-block text-uppercase\" onClick={confirmAction}>\n            {confirmText}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  )\n\n  if(collapse) {\n    return (\n    <Collapse in={toggle} data-testid=\"bottom-modal\" className=\"BottomModal fixed-bottom\">\n      {Content}\n    </Collapse>\n    )\n  } else return (\n    <div data-testid=\"bottom-modal\" className=\"BottomModal\">\n      {Content}\n    </div>\n  );\n}\n\nBottomModal.propTypes = {\n  toggle: PropTypes.bool.isRequired,\n  clearHandler: PropTypes.func.isRequired,\n  confirmText: PropTypes.string,\n  confirmAction: PropTypes.func.isRequired,\n  direction: PropTypes.string,\n  collapse: PropTypes.bool,\n};\n\nexport default BottomModal;","import PropTypes from 'prop-types';\n\nimport { Collapse } from 'react-bootstrap';\n\nfunction FullScreenCollapse (props) {\n  const { toggle, onClose, title, footer} = props;\n\n  return(\n    <Collapse in={toggle} className=\"Fullscreen__collapse\" data-testid=\"fs-collapse\">\n      <div> {/* Essential for Collapse to animate smoothly.*/}\n      <div className=\"Fullscreen__collapse-wrapper\">\n\n        <div className=\"Fullscreen__header bg-light\">\n          {title}\n          <button type=\"button\" className=\"btn btn-link text-dark\" onClick={onClose}>\n            <span className=\"material-icons icon-lg\">close</span>\n          </button>\n        </div>\n\n        <div className=\"Fullscreen__content bg-info\">\n          <div className=\"container pt-4\">\n            {props.children}\n          </div>\n        </div>\n\n        <div className=\"Fullscreen__footer\">\n          {footer}\n        </div>\n\n      </div>\n      </div>\n    </Collapse>\n  );\n}\n\nFullScreenCollapse.propTypes = {\n  toggle: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  title: PropTypes.oneOfType([\n   PropTypes.string,\n   PropTypes.object,\n  ]),\n  footer: PropTypes.oneOfType([\n   PropTypes.string,\n   PropTypes.object,\n  ]),\n};\n\nexport default FullScreenCollapse;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Slider } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport FullscreenCollapse from './FullscreenCollapse';\nimport BottomModal from './BottomModal';\n\nimport * as constants from '../utils/constants';\n\nconst CustomSlider = withStyles({\n  root: {\n    color: constants.PRIMARY_COLOR,\n    height: 3,\n    padding: '13px 0',\n  },\n  thumb: {\n    height: 16,\n    width: 16,\n    backgroundColor: constants.PRIMARY_COLOR,\n    marginTop: -7,\n    marginLeft: -7,\n    '&:focus, &:hover, &$active': {\n      boxShadow: '#ccc 0 2px 3px 1px',\n    },\n    '& .bar': {\n      height: 9,\n      width: 1,\n      backgroundColor: 'currentColor',\n      marginLeft: 1,\n      marginRight: 1,\n    },\n  },\n  active: {},\n  track: {\n    height: 3,\n  },\n  rail: {\n    color: '#d8d8d8',\n    opacity: 1,\n    height: 3,\n  },\n})(Slider);\n\nclass Filter extends React.Component{\n\n  static propTypes = {\n    toggle: PropTypes.bool,\n    toggleSetter: PropTypes.func,\n    onFilter: PropTypes.func,\n    fullscreen: PropTypes.bool,\n    resNumber: PropTypes.number,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.onFilter = props.onFilter || null;\n    this.resNumber = props.resNumber || 0;\n    this.sections = props.sections || [];\n\n    // check box data\n    Object.values(this.sections).map((sec) =>{\n      sec.options.map((opt) => {\n        this.state[opt.title] = false;\n      })\n    });\n    [0,1,2,3,4,5].map((i) => {\n      this.state[`rate${i}`] = false;\n    })\n\n    this.state['priceRange'] = [1000, 5000];\n\n    this.checkBoxHandler = this.checkBoxHandler.bind(this);\n    this.sliderHandler = this.sliderHandler.bind(this);\n    this.sliderOnCommit = this.sliderOnCommit.bind(this);\n    this.closeFilter = this.closeFilter.bind(this);\n    this.doFilter = this.doFilter.bind(this);\n    this.callOnFilter = this.callOnFilter.bind(this);\n  }\n\n  // Helpers\n  callOnFilter(newState) {\n    let data = {...this.state};\n    Object.assign(data, newState);\n    //this.props.dispatch(setFilter(data));\n    this.onFilter(data);\n  }\n\n  // Handlers\n  checkBoxHandler(e) {\n    const target = e.target;\n    const value = target.checked;\n    const title = target.title;\n    this.setState({ [title]: value });\n    if(this.onFilter) this.callOnFilter({ [title]: value });\n  }\n\n  sliderHandler(e, value) {\n    this.setState({'priceRange' : value});\n  }\n\n  sliderOnCommit(e, value) {\n    if(this.onFilter) this.callOnFilter();\n  }\n\n  closeFilter(e){\n    this.props.toggleSetter(false);\n  }\n\n  doFilter(e) {\n    if(this.onFilter) this.callOnFilter();\n    this.props.toggleSetter(false);\n  }\n\n  // Filter implementation\n  _Filter() {\n\n    /* ------ renderer ------ */\n    const genCheckBox = (sec, prefix) => {\n      return (\n        <div>\n          <h6 className=\"card-title\">{sec.title}</h6>\n          <ul className=\"list-gap-8\">\n            {sec.options.map((option, idx) => (\n              <li key={option.title} className=\"custom-control custom-checkbox\">\n              <input type=\"checkbox\" className=\"custom-control-input\"\n                id={`${prefix}_${option.title}_Check`} title={option.title}\n                value={this.state[option.title]}\n                onChange={this.checkBoxHandler}\n              />\n              <label htmlFor={`${prefix}_${option.title}_Check`} className=\"custom-control-label text-secondary\">{option.text}</label>\n              </li>\n            ))}\n          </ul>\n        </div>\n      );\n    };\n\n    const genGradeForm = () => {\n      let nums = [1, 2, 3, 4, 5];\n\n      return (\n        <ul>\n        {nums.map((i) => (\n          <li key={`rate${i}`}className=\"custom-control custom-checkbox\">\n            <input\n              type=\"checkbox\" className=\"custom-control-input\"\n              id={`rate${i}_Check`} title={`rate${i}`}\n              value={this.state[`rate${i}`]}\n              onChange={this.checkBoxHandler}\n            />\n            <label htmlFor={`rate${i}_Check`} className=\"custom-control-label\" aria-label={`${i} star`}>\n              <span className=\"material-icons\">\n              {\"grade \".repeat(i)}\n              </span>\n              <span className=\"text-secondary\">{i}.0</span>\n            </label>\n          </li>\n        ))}\n          <li key=\"unrated\" className=\"custom-control custom-checkbox\">\n            <input type=\"checkbox\" className=\"custom-control-input\"\n              id=\"unrateCheck\" title=\"rate0\"\n              value={this.state[\"rate0\"]}\n              onChange={this.checkBoxHandler}\n            />\n            <label htmlFor=\"unrateCheck\" className=\"custom-control-label text-secondary\">Unrated</label>\n          </li>\n        </ul>\n      );\n    };\n\n    return (\n      <form target=\"#\" method=\"get\" className=\"filter\" aria-label=\"search filter\">\n      <ul className=\"list-divider-white\">\n\n        <li key=\"sec1\">\n          {genCheckBox(this.sections[\"deals\"], \"_\")}\n        </li>\n\n        <li key=\"sec2\">\n          {genCheckBox(this.sections[\"popular\"], \"_\")}\n        </li>\n\n        <li key=\"sec3\">\n          <h6 className=\"card-title\">Budget</h6>\n\n          <CustomSlider\n            data-testid=\"budget-slider\"\n            value={this.state.priceRange}\n            onChange={this.sliderHandler}\n            onChangeCommitted={this.sliderOnCommit}\n            max={constants.MAX_FILTER_PRICE}\n            min={constants.MIN_FILTER_PRICE}\n            step={constants.FILTER_STEP}\n          />\n\n          <ul className=\"Filter__priceTag w-100\">\n            <li key=\"minPrice\">\n              <p className=\"title\">min price</p>\n              <div className=\"d-flex price\">\n                <span className=\"number\">\n                  {this.state.priceRange[0]}\n                </span>\n                <span className=\"label\">TWD</span>\n              </div>\n            </li>\n            <li className=\"divider\">\n              -\n            </li>\n            <li key=\"maxPrice\">\n              <p className=\"title\">max price</p>\n              <div className=\"d-flex price\">\n                <span className=\"number\">\n                  {this.state.priceRange[1]}\n                </span>\n                <span className=\"label\">TWD</span>\n              </div>\n            </li>\n          </ul>\n        </li>\n\n        <li key=\"sec4\">\n          <h6 className=\"card-title\">Rating</h6>\n          {genGradeForm()}\n        </li>\n        <li key=\"sec5\">\n          {genCheckBox(this.sections[\"stayType\"], \"_\")}\n        </li>\n      </ul>\n\n      </form>\n    );\n  }\n\n  render() {\n\n    const bottomModal = () => (\n      <BottomModal\n        toggle={true}\n        clearHandler={this.closeFilter}\n        confirmText=\"Filter\"\n        confirmAction={this.doFilter}\n        direction=\"row\"\n        collapse={false}\n      >\n        <h4 className=\"mb-4\">Found {this.resNumber} results.</h4>\n      </BottomModal>\n    );\n\n    if(!this.props.fullscreen) return this._Filter();\n    else return (\n      <FullscreenCollapse toggle={this.props.toggle}\n        onClose={this.closeFilter}\n        title={(\n          <div>\n            <span className=\"material-icons icon-lg\">filter_list</span> FILTER\n          </div>\n        )}\n        footer={bottomModal()}\n      >\n        {this._Filter()}\n      </FullscreenCollapse>\n    );\n  }\n}\n\nexport default Filter;","import { Swiper, SwiperSlide } from 'swiper/react';\n// swiper react does not include navigation by default\nimport SwiperCore, { Navigation, Lazy } from 'swiper/core';\n\nimport 'swiper/swiper.scss';\nimport 'swiper/components/navigation/navigation.scss';\nimport 'swiper/components/lazy/lazy.scss';\n\nimport { Stars } from '../UtilComponents';\n\nSwiperCore.use([Navigation, Lazy]);\n\nfunction HotelCard(props) {\n  const {room} = props;\n\n  const tags = {\n    \"freeCancel\": \"Free cancellation\",\n    \"noPrepay\": \"No prepayment\",\n  };\n\n  const genTags = (indes) => {\n    return indes.map((idx) => (\n      <div key={idx} className=\"badge badge-info badge-pill mr-1 mb-1\">{tags[idx]}</div>\n    ));\n  };\n\n  const genOldprice = (room) => {\n    if (room.oldPrice != undefined) {\n      return (\n        <div>\n          <p className={`HotelCard__oldPrice`}><del>TWD {room.oldPrice}</del></p>\n          <h4 className=\"HotelCard__title\">TWD <span className=\"h6-md text-primary\">{room.price}</span></h4>\n        </div>\n      );\n    } else {\n      return <h4 className=\"HotelCard__title\">TWD {room.price}</h4>;\n    }\n  };\n\n  const swiperImages = (images) => {\n    if(images.length < 1) return;\n\n    if(images.length === 1)\n      return (<img className={`HotelCard__cardImg pic-height-sm`} src={images[0]} alt=\"details\" />);\n\n    return (\n    <Swiper\n      observer={true}\n      observeParents={true}\n      slidesPerView={1}\n      preloadImages={false}\n      lazy={true}\n      navigation\n    >\n      {images.map((image, idx) => (\n        <SwiperSlide key={idx}>\n          <img className={`HotelCard__cardImg pic-height-sm swiper-lazy`} data-src={image} />\n          <div className=\"swiper-lazy-preloader\"></div>\n        </SwiperSlide>\n      ))}\n    </Swiper>\n    );\n  };\n\n  if (!room) return <div></div>;\n\n  return (\n    <li key={room.name}>\n      <a href={room.url} className={`d-block text-dark card w-100 hover-shadow noBorder_sm`}>\n        <div className=\"row no-gutters\">\n\n          <div className=\"col-5 col-md-4\">\n            {swiperImages(room.imgs)}\n          </div>\n\n          <div className=\"col-7 col-md-8\">\n            <div className={`row no-gutters HotelCard__cardBody`}>\n\n              <div className=\"col-md-7\">\n                <p className=\"card-text\">\n                  <span className=\"text-primary\">{room.location}</span>\n                  <span className=\"d-none d-lg-inline\">\b・{room.distance}km from center</span>\n                </p>\n                <h4 className=\"card-title HotelCard__title\">{room.name}</h4>\n              </div>\n\n              <div className=\"col-md-5\">\n                <div className=\"d-flex flex-column align-items-md-end align-items-lg-center justify-content-lg-end flex-lg-row\">\n                    <Stars star={room.star} />\n                    <p className=\"ml-1 text-sub text-secondary\">{room.star}.0({room.reviews})</p>\n                </div>\n              </div>\n\n              <div className=\"col-md-7\">\n                <h5 className=\"card-subtitle\">{room.room}</h5>\n                <p className=\"card-text mb-2 mb-md-3\">2 guests・1 bed (Queen size)</p>\n                <div className=\"d-none d-md-flex align-items-center flex-wrap\">\n                  {genTags(room.tags)}\n                </div>\n              </div>\n\n              <div className=\"col-md-5\">\n                <div className=\"d-flex h-100 flex-column justify-content-end align-items-end\">\n                  {genOldprice(room)}\n                  <p className=\"card-text d-none d-md-block\">per night</p>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n      </a>\n    </li>\n  );\n}\n\nexport default HotelCard;","import PropTypes from 'prop-types';\n\nfunction NumPagenation(props) {\n  const {\n    curr, window,\n    min, max,\n    onIndex = () => {},\n  } = props;\n\n  let nums = [];\n\n  let start = Math.max(min, curr - Math.floor((window)/2));\n  if ((start + window - 1) > max)\n    start = Math.max(min, max - window + 1);\n  let end = Math.min(max, start + window - 1);\n\n  for(let i = start; i<end+1; i++) {\n    nums.push(i);\n  }\n\n  const onNext = () => {\n    if(curr === max) return;\n    onIndex(curr+1);\n  }\n\n  const onPrev = () => {\n    if(curr === min) return;\n    onIndex(curr-1);\n  }\n\n  return (\n    <nav className=\"bg-info rounded-lg p-3 w-100 mt-4 mb-5 d-flex justify-content-between\">\n      <button className=\"btn btn-outline-primary text-uppercase\"\n        onClick={onPrev} role=\"button\">\n        previous\n      </button>\n      <ul className=\"pagination\">\n\n        {min &&\n          <li key={min} className=\"page-item\">\n            <a className=\"page-link\" onClick={() => onIndex(min)} role=\"button\">\n              {min}\n            </a>\n          </li>\n        }\n        {min && <li key=\"upperEllipsis\" className=\"page-item text-primary\">...</li>}\n        {\n          nums.map((n) =>\n            <li key={n} className={`page-item d-none d-md-block ${ n === curr ? \"active\" : \"\"}`}>\n              <a className=\"page-link\" onClick={() => onIndex(n)} role=\"button\">{n}</a>\n            </li>\n          )\n        }\n        {max && <li key=\"lowerEllipsis\" className=\"page-item text-primary\">...</li>}\n        {max &&\n          <li key={max} className=\"page-item\">\n            <a className=\"page-link\" onClick={()=>onIndex(max)} role=\"button\">\n              {max}\n            </a>\n          </li>\n        }\n\n      </ul>\n      <button className=\"btn btn-primary text-uppercase\"\n        onClick={onNext} role=\"button\">\n        next\n      </button>\n    </nav>\n  )\n}\n\nNumPagenation.propTypes = {\n  curr: PropTypes.number.isRequired,\n  window: PropTypes.number.isRequired,\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  onIndex: PropTypes.func.isRequired,\n};\n\nexport default NumPagenation;","\nexport const sections = {\n  \"deals\" : {\n    title: \"Deals\",\n    options: [\n      {\n        title: \"freeCancel\",\n        text: \"Free cancel\",\n      },\n      {\n        title: \"noPrepay\",\n        text: \"No prepayment\",\n      },\n      {\n        title: \"specialOffer\",\n        text: \"Special offer\",\n      },\n    ],\n  },\n  \"popular\": {\n    title: \"Popular Filters\",\n    options: [\n      {\n        title: \"breakfast\",\n        text: \"Breakfast included\",\n      },\n      {\n        title: \"freeWifi\",\n        text: \"Free Wifi\",\n      },\n      {\n        title: \"swimmingPool\",\n        text: \"Swimming pool\",\n      },\n    ],\n  },\n  \"stayType\": {\n    title: \"Stay Type\",\n    options: [\n      {\n        title: \"hotel\",\n        text: \"Hotel\",\n      },\n      {\n        title: \"apartment\",\n        text: \"Apartment\",\n      },\n      {\n        title: \"unique\",\n        text: \"Unique\",\n      },\n      {\n        title: \"hostel\",\n        text: \"Hostel\",\n      },\n    ],\n  },\n};\n\nfunction makeOptions(data) {\n  let options = {};\n  options['deals'] = sections['deals'].options.map(x => x.title).filter(x => x !== 'specialOffer' && data[x] === true);\n  options['specialOffer'] = data['specialOffer'];\n  options['stars'] = Object.keys(Array(6).fill(0)).map(x => data[`rate${x}`]);\n  options['priceRange'] = data['priceRange'];\n  return options;\n}\n\nfunction filter(hotelData, options) {\n  if(!hotelData || !options) return hotelData;\n\n  let res = hotelData;\n  const { priceRange, deals, stars, specialOffer } = options;\n\n  if (priceRange) {\n    const [min, max] = priceRange;\n    if(min < max)\n      res = res.filter( h => h.price >= min && h.price <= max );\n  }\n\n  if (deals && deals.length > 0) {\n    let tags = options.deals;\n    res = res.filter(h =>\n      tags.map( t => h.tags.includes(t))\n          .reduce((a, b) => a || b, false)\n    )\n  }\n\n  if (specialOffer) {\n    res = res.filter( h => h.oldPrice !== undefined);\n  }\n\n  if (stars && stars.reduce((a, b) => a || b, false) > 0) {\n    res = res.filter( h => { return options.stars[h.star] });\n  }\n\n  return res;\n};\n\nexport default filter;\nexport { makeOptions };\n\n\n\n\n\n","import { useState } from 'react';\nimport { Nav, Tab, Dropdown } from \"react-bootstrap\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport { Reveal } from 'react-reveal';\n\nimport Filter from '../Filter';\nimport HotelCard from './HotelCard';\nimport NumPagenation from '../NumPagenation.js'\n\nimport filter, {sections, makeOptions } from './FilterImpl';\n\nimport * as constants from '../../utils/constants';\n\nconst ITEMS_PER_PAGE = 5;\n\n\nfunction Hotels(props) {\n  const {on, rooms, pageSize, index=1} = props;\n\n  // NOTE: index start from 1\n  const len = Math.ceil(rooms.length/pageSize);\n  const curr = Math.min(len-1, index-1);\n  const start = curr * pageSize;\n  const end = Math.min(start + pageSize, rooms.length);\n  const range = rooms.slice(start, end);\n\n  if (!rooms) return <div></div>;\n  if(!pageSize) pageSize = rooms.length;\n\n  return (\n    <ul className={`fade list-divider-info no-divider-down-sm ${on ? \"show\" : \"\"}`}>\n      {range.map((r, idx) => <HotelCard key={idx} room={r} />)}\n    </ul>\n  );\n}\n\nfunction SearchResult(props) {\n  const { query, hotelData } = props;\n\n  const tabs = [\n    [\"recommend\", \"Recommended\"],\n    [\"price\", \"Lowest Price\"],\n    [\"value\", \"Best value\"],\n    [\"distance\", \"Distance to City Center\"],\n  ];\n\n  const [currTab, setCurrTab ] = useState(tabs[0][0]);\n  const [currPage, setCurrPage] = useState(1);\n  const [show, setShow] = useState(true);\n  const [filterOps, setFilterOps] = useState({});\n\n  // RWD\n  const isSmallScreen = useMediaQuery(`(max-width:${constants.BS_BREAKPOINT_MD})`);\n  const isMidScreen = useMediaQuery(`(max-width:${constants.BS_BREAKPOINT_LG})`);\n  const [filterOn, setFilterOn] = useState(false);\n\n  // Handler\n  const onPageChange = (i) => {\n    setShow(false);\n    setTimeout(() => {\n      setCurrPage(i);\n      setShow(true)\n    }, 150); //BS fade setting\n  };\n\n  const onFilter = (data) => {\n    console.log(data);\n    setFilterOps(makeOptions(data));\n  };\n\n  // Helper functions\n  let filteredHotels = filter(hotelData, filterOps);\n  const sortRooms = (category) => {\n    let copied = [...filteredHotels];\n    switch(category) {\n      case \"price\":\n        return copied.sort((a, b) => a.price - b.price);\n      case \"value\":\n        return copied.sort((a, b) => b.star/b.price - a.star/a.price);\n      case \"distance\":\n        return copied.sort((a, b) => a.distance - b.distance);\n      default:\n        return filteredHotels;\n    }\n  };\n\n  // Renderers\n  const genPanes = () => (\n    <Tab.Content>\n    {tabs.map(([short, title]) => (\n      <Tab.Pane key={short} eventKey={short} >\n        <Hotels\n          rooms={sortRooms(short)}\n          index={currPage}\n          pageSize={ITEMS_PER_PAGE}\n          on={show}\n        />\n      </Tab.Pane>\n    ))}\n    </Tab.Content>\n  );\n\n  const genTabs = () => (\n    <Nav variant=\"tabs\" className=\"flex-nowrap\">\n        {tabs.map(([short, title]) => (\n          <Nav.Item key={short} >\n            <Nav.Link eventKey={short} className=\"h6\"\n              onClick={() => setCurrTab(short)}\n            >{title}</Nav.Link>\n          </Nav.Item>\n        ))}\n    </Nav>\n  );\n\n  const genFilter = () => {\n    if (isSmallScreen) {\n      return (\n        <Filter\n          sections={sections}\n          toggle={filterOn}\n          toggleSetter={setFilterOn}\n          fullscreen={isSmallScreen}\n          onFilter={onFilter}\n        />\n      );\n    } else {\n      return (\n        <Reveal effect=\"fadeInLeft\" duration={1300}>\n          <div className=\"col-md-4 mb-4\">\n            <nav className=\"card bg-info border-0\">\n              <div className=\"card-body\">\n                <Filter\n                  sections={sections}\n                  toggle={filterOn}\n                  toggleSetter={setFilterOn}\n                  fullscreen={isSmallScreen}\n                  onFilter={onFilter}\n                />\n              </div>\n            </nav>\n          </div>\n        </Reveal>\n      )\n    }\n  };\n\n  const toolbarPhone = () => {\n    return (\n      <ul className=\"d-flex align-items-center justify-content-center w-100 mb-3\">\n        <li key=\"tab1\" className=\"flex-fill border-right border-info\">\n          <a className=\"btn btn-link btn-block font-weight-bold text-dark text-sub\"\n            onClick={() => {\n              setFilterOn(true);\n              console.log(filterOn);\n            }}\n          >\n            <span className=\"material-icons icon-lg\">filter_list</span> FILTER\n          </a>\n        </li>\n        <li key=\"tab2\" className=\"flex-fill\">\n          <Dropdown>\n            <Dropdown.Toggle variant=\"light\" className=\"btn btn-link btn-block font-weight-bold text-dark text-sub\">\n              <span className=\"material-icons icon-lg\">sort</span> SORT\n            </Dropdown.Toggle>\n            <Dropdown.Menu className=\"bg-info border-0 vw-100\">\n              {tabs.map(([short, title]) => <Dropdown.Item key={short} eventKey={short}><a className=\"nav-link font-weight-bold\">{title}</a></Dropdown.Item>)}\n            </Dropdown.Menu>\n          </Dropdown>\n        </li>\n      </ul>\n    );\n  };\n\n  return (\n  <div>\n\n    <div className=\"container px-0 px-md-3 pt-4\">\n      <Tab.Container defaultActiveKey={currTab}>\n\n        <div className=\"row align-items-basline mb-3\">\n          <div className=\"col-md-4 text-center text-md-left\">\n            <h2 className=\"fixed-size mb-0\">\n              {query.city}<span className=\"text-primary\"><sup>{hotelData.length}</sup></span>\n            </h2>\n          </div>\n\n          <div className=\"col-md-8 d-none d-md-block\">\n            {genTabs()}\n          </div>\n        </div>\n\n        {/* toolbar on phones */}\n        {isSmallScreen && toolbarPhone()}\n\n        <div className=\"row \">\n\n          {genFilter()}\n\n          <Reveal effect=\"fadeInUp\" duration={1300}>\n            <div className=\"col-md-8\">\n              {genPanes()}\n\n              <NumPagenation\n                curr={currPage}\n                window={isMidScreen ? 5 : 9}\n                min={1}\n                max={Math.ceil(hotelData.length/ITEMS_PER_PAGE)}\n                onIndex={onPageChange}\n              />\n            </div>\n          </Reveal>\n\n        </div>\n      </Tab.Container>\n    </div>\n  </div>\n  );\n}\n\nexport default SearchResult;","import { useEffect, useState } from 'react';\nimport qs from 'query-string';\nimport Layout from '../layout/Layout';\n\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer';\nimport SearchBar from '../components/SearchBar/SearchBar';\n\nimport SearchResult from '../components/search/SearchResult'\nimport Subscription from '../components/Subscription';\nimport Loading from '../components/Loading';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { switchFetchStatus } from '../features/fetchStatus';\nimport { fetchHotels } from '../features/hotelSlicer';\n\nfunction SearchPage (props){\n\n  const query = useSelector(state => state.search);\n  const queryBackup = qs.parse(props.location.search);\n\n  const hotels = useSelector(state => state.hotel.hotels);\n  const status = useSelector(state => state.hotel.status);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchHotels(query));\n  }, [])\n\n  return (\n    <Layout>\n      <Layout.Header>\n        <Header simple={false} />\n        <SearchBar withReturn={false} simplified={false}/>\n      </Layout.Header>\n      <Layout.Content>\n        {switchFetchStatus(status,\n          <SearchResult hotelData={hotels} query={queryBackup} />,\n          <Loading />,\n          <div className=\"alert alert-danger\">Oops, something was wrong. Please search again.</div>\n        )}\n        <Subscription size=\"small\" />\n        <Footer short={false} />\n      </Layout.Content>\n    </Layout>\n  );\n}\n\nexport default SearchPage;"],"sourceRoot":""}